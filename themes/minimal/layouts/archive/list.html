{{ define "main" }}
  <section class="archive">
    <header class="page-header">
      <h1>{{ .Title }}</h1>
      {{ with .Content }}
        <div class="content">{{ . }}</div>
      {{ end }}
    </header>

    {{ $posts := where site.RegularPages "Section" "posts" }}
    {{ if gt (len $posts) 0 }}
      <div class="archive-list">
        {{ range $group := ($posts.GroupByDate "2006" "desc") }}
          <section class="archive-year">
            <h2>{{ $group.Key }}</h2>
            <ul>
              {{ range $group.Pages.ByDate.Reverse }}
                <li>
                  <time datetime="{{ .Date | time.Format "2006-01-02" }}">{{ .Date | time.Format "Jan 02" }}</time>
                  <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
                </li>
              {{ end }}
            </ul>
          </section>
        {{ end }}
      </div>
    {{ else }}
      <p class="topics-empty">No posts published yet.</p>
    {{ end }}
  </section>
{{ end }}
